<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="mx.edu.utez.biblioteca.controller.ModalPrestamoController"
      stylesheets="@../css/agregarPrestamo.css"
      spacing="20"
      alignment="CENTER_LEFT"
      styleClass="root-layout">

    <padding>
        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
    </padding>

    <Label text="Agregar Préstamo" styleClass="titulo" />
    <Label text="Ingresa la información del préstamo correctamente" styleClass="subtitulo" />

    <VBox spacing="15" alignment="CENTER_LEFT" maxWidth="750">
        <GridPane hgap="20" vgap="15">
            <VBox GridPane.columnIndex="0" GridPane.rowIndex="0" spacing="5">
                <Label text="Usuario:" styleClass="label-form" />
                <ComboBox fx:id="comboBoxUsuarios" editable="true" promptText="Escribe y selecciona el usuario..." styleClass="combo-box" />
            </VBox>
            <VBox GridPane.columnIndex="1" GridPane.rowIndex="0" spacing="5">
                <Label text="Fecha Préstamo:" styleClass="label-form" />
                <DatePicker fx:id="dpFechaPrestamo" styleClass="date-picker" />
            </VBox>

            <VBox GridPane.columnIndex="0" GridPane.rowIndex="1" spacing="5">
                <Label text="Estado:" styleClass="label-form" />
                <ComboBox fx:id="cbEstado" styleClass="combo-box" />
            </VBox>
            <VBox GridPane.columnIndex="1" GridPane.rowIndex="1" spacing="5">
                <Label text="Fecha Límite:" styleClass="label-form" />
                <DatePicker fx:id="dpFechaLimite" styleClass="date-picker" />
            </VBox>
        </GridPane>

        <VBox spacing="10">
            <Label text="Buscar Ejemplares Disponibles" styleClass="label-form" />
            <HBox spacing="10" alignment="CENTER_LEFT">
                <TextField fx:id="txtBuscarEjemplar" promptText="Código o título..." styleClass="text-field" HBox.hgrow="ALWAYS" />
                <Button onAction="#buscarEjemplares" styleClass="button-primary" text="Buscar" />
            </HBox>
        </VBox>

        <TableView fx:id="tablaEjemplares" styleClass="table-view" VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn fx:id="colCodigo" text="Código" prefWidth="100" />
                <TableColumn fx:id="colTitulo" text="Título" prefWidth="350" />
                <TableColumn fx:id="colUbicacion" text="Ubicación" prefWidth="150" />
                <TableColumn fx:id="colSeleccionar" text="Seleccionar" prefWidth="150" />
            </columns>
        </TableView>
    </VBox>

    <HBox alignment="BOTTOM_RIGHT" spacing="10.0">
        <Button onAction="#cancelarAccion" styleClass="button-secondary" text="Cancelar" />
        <Button onAction="#registrarPrestamo" styleClass="button-primary" text="Guardar" />
    </HBox>

</VBox>

